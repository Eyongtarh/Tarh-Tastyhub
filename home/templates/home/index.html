{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/index.css' %}" />
{% endblock %}
{% block content %}
  <!-- HERO SECTION (transparent) -->
  <section class="py-5 hero-section">
    <div class="container text-center hero-overlay">
      <h1 class="display-5 fw-bold text-white">Fresh Home Style Meals. Fast Delivery OR Pickup</h1>
      <p class="lead mt-3 text-white">Choose from our delicious menu and enjoy the taste of home.</p>
      <a href="{% url 'dish_list' %}" class="btn btn-warning btn-lg mt-3 px-4 py-2 fw-bold shop-now-button">Order Now</a>
    </div>
  </section>

  <!-- FEATURED DISHES (transparent) -->
  <section class="py-5">
    <div class="container">
      <h2 class="text-center fw-bold mb-4 text-white">Featured Dishes</h2>

      <div class="row g-4">
        {% for dish in featured_dishes %}
          <div class="col-12 col-md-4 col-lg-3">
            <div class="card h-100 shadow-sm">
              {% if dish.image %}
                <img src="{{ dish.image.url }}" class="card-img-top" alt="{{ dish.name }}" />
              {% else %}
                <img src="{% static 'images/no-image.png' %}" class="card-img-top" alt="No image" />
              {% endif %}

              <div class="card-body text-center">
                <h5 class="fw-bold">{{ dish.name }}</h5>
                <p class="text-muted small">{{ dish.description|default:'No description available.'|truncatewords:15 }}</p>
                <a href="{{ dish.get_absolute_url }}" class="btn btn-outline-primary btn-sm">View Dish</a>
              </div>
            </div>
          </div>
        {% empty %}
          <p class="text-center text-muted">No featured dishes available.</p>
        {% endfor %}
      </div>

      <!-- PAGINATION -->
      {% if featured_dishes.has_other_pages %}
        <nav class="mt-4">
          <ul class="pagination justify-content-center">
            {% if featured_dishes.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page={{ featured_dishes.previous_page_number }}">&laquo; Prev</a>
              </li>
            {% else %}
              <li class="page-item disabled">
                <span class="page-link">&laquo; Prev</span>
              </li>
            {% endif %}

            {% for num in featured_dishes.paginator.page_range %}
              {% if num == featured_dishes.number %}
                <li class="page-item active">
                  <span class="page-link">{{ num }}</span>
                </li>
              {% else %}
                <li class="page-item">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
              {% endif %}
            {% endfor %}

            {% if featured_dishes.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ featured_dishes.next_page_number }}">Next &raquo;</a>
              </li>
            {% else %}
              <li class="page-item disabled">
                <span class="page-link">Next &raquo;</span>
              </li>
            {% endif %}
          </ul>
        </nav>
      {% endif %}
    </div>
  </section>

  <!-- TESTIMONIALS -->
  <section class="py-5 testimonials-section">
    <div class="container">
      <h2 class="text-center mb-5 fw-bold text-white">What Our Customers Say</h2>

      <div class="row g-4 justify-content-center">
        <div class="col-12 col-md-4">
          <div class="p-4 rounded shadow-sm text-center bg-white">
            <p>"The meals are fresh and delivery is always on time."</p>
            <h6 class="mt-3 fw-bold">Abangha Miss.</h6>
          </div>
        </div>

        <div class="col-12 col-md-4">
          <div class="p-4 rounded shadow-sm text-center bg-white">
            <p>"Love the variety and quality. Every dish tastes homemade."</p>
            <h6 class="mt-3 fw-bold">Selacha S.</h6>
          </div>
        </div>

        <div class="col-12 col-md-4">
          <div class="p-4 rounded shadow-sm text-center bg-white">
            <p>"Great service and amazing flavors. My go-to for busy weeknights."</p>
            <h6 class="mt-3 fw-bold">Mawan B.</h6>
          </div>
        </div>
      </div>
    </div>
  </section>
{% endblock %}
